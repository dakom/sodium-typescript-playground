module.exports = { contents: "\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Main_1 = require(\"../../main/Main\");\r\nvar CanvasRender = (function (_super) {\r\n    __extends(CanvasRender, _super);\r\n    function CanvasRender(brush, bounds) {\r\n        var _this = \r\n        //rendering/vis setup\r\n        _super.call(this, PIXI.RenderTexture.create(bounds.width, bounds.height)) || this;\r\n        _this.brush = brush;\r\n        _this.interactive = true;\r\n        _this.renderTexture = _this.texture;\r\n        _this.drawBuffer = new PIXI.Sprite();\r\n        return _this;\r\n    }\r\n    CanvasRender.prototype.drawBegin = function (point) {\r\n        this.brush.changeColor();\r\n    };\r\n    CanvasRender.prototype.drawEnd = function (point) {\r\n    };\r\n    CanvasRender.prototype.drawUpdate = function (p1, p2) {\r\n        var _this = this;\r\n        var points = this.getLine(p1.x, p1.y, p2.x, p2.y);\r\n        if (points.length == 0) {\r\n            console.error(\"THIS SHOULD NEVER HAPPEN\");\r\n            return;\r\n        }\r\n        var sprites = this.brush.getSprites(points.length);\r\n        sprites.forEach(function (sprite, index) {\r\n            var point = points[index];\r\n            sprite.position.set(point.x, point.y);\r\n            _this.drawBuffer.addChild(sprite);\r\n        });\r\n        Main_1.Main.app.renderer.render(this.drawBuffer, this.renderTexture, false);\r\n        this.brush.returnToPool(sprites);\r\n        this.drawBuffer.removeChildren();\r\n    };\r\n    //algorithm adapted from http://cboard.cprogramming.com/game-programming/67832-line-drawing-algorithm.html#post485086\r\n    CanvasRender.prototype.getLine = function (x1, y1, x2, y2) {\r\n        var line = new Array();\r\n        var d = new PIXI.Point();\r\n        var i = new PIXI.Point();\r\n        var e;\r\n        if (x1 == x2 && y1 == y2) {\r\n            return line;\r\n        }\r\n        d.x = x2 - x1;\r\n        d.y = y2 - y1;\r\n        i.x = d.x > 0 ? 1 : -1;\r\n        i.y = d.y > 0 ? 1 : -1;\r\n        d.x = Math.abs(d.x);\r\n        d.y = Math.abs(d.y);\r\n        if (d.x >= d.y) {\r\n            d.y <<= 1;\r\n            e = d.y - d.x;\r\n            d.x <<= 1;\r\n            while (x1 != x2) {\r\n                line.push({ x: x1, y: y1 });\r\n                if (e >= 0) {\r\n                    y1 += i.y;\r\n                    e -= d.x;\r\n                }\r\n                e += d.y;\r\n                x1 += i.x;\r\n            }\r\n        }\r\n        else {\r\n            d.x <<= 1;\r\n            e = d.x - d.y;\r\n            d.y <<= 1;\r\n            while (y1 != y2) {\r\n                line.push({ x: x1, y: y1 });\r\n                if (e >= 0) {\r\n                    x1 += i.x;\r\n                    e -= d.y;\r\n                }\r\n                e += d.x;\r\n                y1 += i.y;\r\n            }\r\n        }\r\n        line.push({ x: x1, y: y1 });\r\n        return (line);\r\n    };\r\n    return CanvasRender;\r\n}(PIXI.Sprite));\r\nexports.CanvasRender = CanvasRender;\r\n//# sourceMappingURL=Draw_Render.js.map",
dependencies: ["../../main/Main"],
sourceMap: "{\"version\":3,\"file\":\"app/modules/draw/Draw_Render.js\",\"sourceRoot\":\"\",\"sources\":[\"/src/app/modules/draw/Draw_Render.ts\"],\"names\":[],\"mappings\":\"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\"}",
headerContent: undefined,
mtime: 1504029030253,
devLibsRequired : undefined
};