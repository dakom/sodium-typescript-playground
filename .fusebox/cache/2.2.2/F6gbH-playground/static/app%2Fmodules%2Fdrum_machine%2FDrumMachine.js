module.exports = { contents: "\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar sodiumjs_1 = require(\"sodiumjs\");\r\nvar SelfDisposingContainer_1 = require(\"../../../lib/display/SelfDisposingContainer\");\r\nvar Main_1 = require(\"../../main/Main\");\r\nvar DrumMachine_Samplers_1 = require(\"./DrumMachine_Samplers\");\r\nvar DrumMachine_Timer_1 = require(\"./DrumMachine_Timer\");\r\nvar DrumMachine_Assets_1 = require(\"./DrumMachine_Assets\");\r\nvar DrumMachine_Config_1 = require(\"./DrumMachine_Config\");\r\nvar Slider_1 = require(\"../../../lib/slider/Slider\");\r\nvar DrumMachine = (function (_super) {\r\n    __extends(DrumMachine, _super);\r\n    function DrumMachine() {\r\n        var _this = _super.call(this) || this;\r\n        var unlisteners = new Array();\r\n        var assets = new DrumMachine_Assets_1.Assets();\r\n        unlisteners.push(assets.load(DrumMachine_Config_1.sampleIds).listen(function (resources) {\r\n            //assign sounds from loaded assets\r\n            var soundLookup = DrumMachine_Config_1.sampleIds.reduce(function (all, val) {\r\n                all[val] = resources[val][\"sound\"];\r\n                return all;\r\n            }, {});\r\n            //we don't want to rely on es7 object.values yet...\r\n            var soundList = Object.keys(soundLookup).map(function (key) { return soundLookup[key]; });\r\n            //ui and container setup\r\n            var samplers = new DrumMachine_Samplers_1.Samplers(DrumMachine_Config_1.sampleIds);\r\n            samplers.x = (Main_1.CanvasWidth - samplers.width) / 2;\r\n            samplers.y = ((Main_1.CanvasHeight - samplers.height) / 2) - 100;\r\n            _this.addChild(samplers);\r\n            var timer = new DrumMachine_Timer_1.Timer();\r\n            timer.x = samplers.x;\r\n            timer.y = samplers.y + samplers.height + 30;\r\n            _this.addChild(timer);\r\n            var volumeSlider = new Slider_1.Slider(DrumMachine_Config_1.VolumeSliderOptions((timer.y + timer.height) - samplers.y));\r\n            volumeSlider.x = samplers.x + samplers.width + 40;\r\n            volumeSlider.y = samplers.y;\r\n            _this.addChild(volumeSlider);\r\n            var speedSlider = new Slider_1.Slider(DrumMachine_Config_1.SpeedSliderOptions(samplers.width));\r\n            speedSlider.x = samplers.x;\r\n            speedSlider.y = timer.y + timer.height + 40;\r\n            _this.addChild(speedSlider);\r\n            //frp transaction\r\n            sodiumjs_1.Transaction.run(function () {\r\n                //start the timer with a hookup to slider for speed control\r\n                timer.start(speedSlider.cPerc);\r\n                //get the current samples and play\r\n                unlisteners.push(volumeSlider.cPerc.listen(function (perc) {\r\n                    soundList.forEach(function (sound) { return sound.volume = perc; });\r\n                }), samplers.getSamples(timer.cMeasure).listen(function (samples) {\r\n                    samples.forEach(function (sampleId) {\r\n                        soundLookup[sampleId].play();\r\n                    });\r\n                }));\r\n            });\r\n        }));\r\n        _this._dispose = function () {\r\n            unlisteners.forEach(function (unlistener) { return unlistener(); });\r\n            assets.dispose();\r\n            window.PIXI.sound.removeAll();\r\n        };\r\n        return _this;\r\n    }\r\n    DrumMachine.prototype.dispose = function () {\r\n        this._dispose();\r\n    };\r\n    return DrumMachine;\r\n}(SelfDisposingContainer_1.SelfDisposingContainer));\r\nexports.DrumMachine = DrumMachine;\r\n//# sourceMappingURL=DrumMachine.js.map",
dependencies: ["sodiumjs","../../../lib/display/SelfDisposingContainer","../../main/Main","./DrumMachine_Samplers","./DrumMachine_Timer","./DrumMachine_Assets","./DrumMachine_Config","../../../lib/slider/Slider"],
sourceMap: "{\"version\":3,\"file\":\"app/modules/drum_machine/DrumMachine.js\",\"sourceRoot\":\"\",\"sources\":[\"/src/app/modules/drum_machine/DrumMachine.ts\"],\"names\":[],\"mappings\":\"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\"}",
headerContent: undefined,
mtime: 1504029030253,
devLibsRequired : undefined
};