module.exports = { contents: "\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar sodiumjs_1 = require(\"sodiumjs\");\r\nvar SelfDisposingContainer_1 = require(\"../../../lib/display/SelfDisposingContainer\");\r\nvar Draggable_1 = require(\"../../../lib/draggable/Draggable\");\r\nvar Move_UI_1 = require(\"./Move_UI\");\r\nvar Move = (function (_super) {\r\n    __extends(Move, _super);\r\n    function Move() {\r\n        var _this = _super.call(this) || this;\r\n        var unlisteners = new Array();\r\n        //ui\r\n        var shapes = Move_UI_1.CreateShapes();\r\n        shapes.forEach(function (shape) { return _this.addChild(shape); });\r\n        //create draggables for ui elements, and assign for later disposing\r\n        var draggables = shapes.map(function (shape) { return new Draggable_1.Draggable(shape); });\r\n        //combine all drag events into one stream (we're not interested in multi-touch)\r\n        var sDragEvents = draggables\r\n            .map(function (drag) { return drag.sEvent; })\r\n            .reduce(function (acc, elem) { return acc.orElse(elem); });\r\n        //listen to updates and change highlight (position updates are handled via Draggable)\r\n        sodiumjs_1.Transaction.run(function () {\r\n            unlisteners.push(sDragEvents\r\n                .filter(function (evt) { return evt.type === Draggable_1.DraggableEventType.START; })\r\n                .listen(function (evt) {\r\n                evt.displayTarget.selected = true;\r\n            }), sDragEvents\r\n                .filter(function (evt) { return evt.type === Draggable_1.DraggableEventType.END; })\r\n                .listen(function (evt) {\r\n                evt.displayTarget.selected = false;\r\n            }), sDragEvents\r\n                .filter(function (evt) { return evt.gesture === Draggable_1.DraggableGesture.TAP; })\r\n                .listen(function (evt) {\r\n                alert(evt.displayTarget.opts.type + \" was tapped!\");\r\n            }));\r\n        });\r\n        _this._dispose = function () {\r\n            unlisteners.forEach(function (unlistener) { return unlistener(); });\r\n            draggables.forEach(function (drag) { return drag.dispose(); });\r\n        };\r\n        return _this;\r\n    }\r\n    //cleanup\r\n    Move.prototype.dispose = function () {\r\n        this._dispose();\r\n    };\r\n    return Move;\r\n}(SelfDisposingContainer_1.SelfDisposingContainer));\r\nexports.Move = Move;\r\n//# sourceMappingURL=Move.js.map",
dependencies: ["sodiumjs","../../../lib/display/SelfDisposingContainer","../../../lib/draggable/Draggable","./Move_UI"],
sourceMap: "{\"version\":3,\"file\":\"app/modules/move/Move.js\",\"sourceRoot\":\"\",\"sources\":[\"/src/app/modules/move/Move.ts\"],\"names\":[],\"mappings\":\";;;;;;;;;;;;AAAA,qCAA+G;AAC/G,sFAAqF;AAGrF,8DAAiH;AACjH,qCAAgD;AAGhD;IAA0B,wBAAsB;IAG5C;QAAA,YACI,iBAAO,SA2CV;QAzCG,IAAM,WAAW,GAAG,IAAI,KAAK,EAAc,CAAC;QAE5C,IAAI;QACJ,IAAM,MAAM,GAAG,sBAAY,EAAE,CAAC;QAC9B,MAAM,CAAC,OAAO,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAApB,CAAoB,CAAC,CAAC;QAE9C,mEAAmE;QACnE,IAAM,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,UAAA,KAAK,IAAI,OAAA,IAAI,qBAAS,CAAC,KAAK,CAAC,EAApB,CAAoB,CAAC,CAAC;QAE7D,+EAA+E;QAC/E,IAAM,WAAW,GAAG,UAAU;aACrB,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,MAAM,EAAX,CAAW,CAAC;aACxB,MAAM,CAAC,UAAC,GAA2B,EAAE,IAA4B,IAAK,OAAA,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,EAAhB,CAAgB,CAAC,CAAC;QAEjG,qFAAqF;QACrF,sBAAW,CAAC,GAAG,CAAC;YACZ,WAAW,CAAC,IAAI,CACZ,WAAW;iBACN,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,KAAK,8BAAkB,CAAC,KAAK,EAArC,CAAqC,CAAC;iBACpD,MAAM,CAAC,UAAA,GAAG;gBACN,GAAG,CAAC,aAAuB,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjD,CAAC,CAAC,EAEN,WAAW;iBACN,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,KAAK,8BAAkB,CAAC,GAAG,EAAnC,CAAmC,CAAC;iBAClD,MAAM,CAAC,UAAA,GAAG;gBACN,GAAG,CAAC,aAAuB,CAAC,QAAQ,GAAG,KAAK,CAAC;YAClD,CAAC,CAAC,EAEN,WAAW;iBACN,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,OAAO,KAAK,4BAAgB,CAAC,GAAG,EAApC,CAAoC,CAAC;iBACnD,MAAM,CAAC,UAAA,GAAG;gBACP,KAAK,CAAE,GAAG,CAAC,aAAuB,CAAC,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAA;YAClE,CAAC,CAAC,CACT,CAAC;QACN,CAAC,CAAC,CAAC;QAEH,KAAI,CAAC,QAAQ,GAAG;YACZ,WAAW,CAAC,OAAO,CAAC,UAAA,UAAU,IAAI,OAAA,UAAU,EAAE,EAAZ,CAAY,CAAC,CAAC;YAChD,UAAU,CAAC,OAAO,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,OAAO,EAAE,EAAd,CAAc,CAAC,CAAC;QAC/C,CAAC,CAAA;;IACL,CAAC;IAED,SAAS;IACT,sBAAO,GAAP;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,WAAC;AAAD,CAAC,AArDD,CAA0B,+CAAsB,GAqD/C;AArDY,oBAAI\"}",
headerContent: undefined,
mtime: 1504029030253,
devLibsRequired : undefined
};